<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI æµ‹è¯•</title>
    <style>
        :root {
            --bg-gradient-start: #f9d5e5;
            --bg-gradient-end: #d6eaf8;
            --card-bg: rgba(255, 255, 255, 0.8);
            --card-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            --button-bg: #f8bbd0;
            --button-hover: #f48fb1;
            --progress-default: #e0e0e0;
            --progress-completed: #ff9a9a;
            --result-bg-start: #ffd180;
            --result-bg-end: #81d4fa;
            --border-radius: 15px;
        }

        body {
            font-family: 'Comic Sans MS', 'åæ–‡å½©äº‘', sans-serif;
            background: linear-gradient(to bottom, var(--bg-gradient-start), var(--bg-gradient-end));
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        h1 {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        #progress-bar {
            width: 80%;
            max-width: 600px;
            background-color: var(--progress-default);
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            overflow: hidden;
        }

        #progress {
            width: 0%;
            height: 30px;
            background-color: var(--progress-completed);
            border-radius: var(--border-radius);
            transition: width 0.3s ease;
        }

        #question-card {
            background-color: var(--card-bg);
            box-shadow: var(--card-shadow);
            border-radius: var(--border-radius);
            padding: 40px;
            width: 80%;
            max-width: 600px;
            text-align: center;
            margin-bottom: 20px;
            position: relative;
        }

        #progress-text {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 13px;
        }

        .option {
            background-color: var(--button-bg);
            border: none;
            border-radius: var(--border-radius);
            padding: 15px 30px;
            margin: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:active {
            transform: scale(0.95);
        }

        #result {
            display: none;
            background: linear-gradient(to bottom, var(--result-bg-start), var(--result-bg-end));
            border-radius: 30px;
            padding: 40px;
            width: 80%;
            max-width: 600px;
            text-align: center;
            font-family: 'å¾®è½¯é›…é»‘', 'å¹¼åœ†', sans-serif;
        }

        #restart {
            background-color: var(--button-bg);
            border: none;
            border-radius: var(--border-radius);
            padding: 15px 30px;
            margin-top: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #restart:active {
            transform: scale(0.95);
        }

        .firework {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: firework 1s ease-out infinite;
        }

        @keyframes firework {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(10);
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <h1>MBTI æµ‹è¯•</h1>
    <div id="progress-bar">
        <div id="progress"></div>
    </div>
    <div id="question-card">
        <div id="progress-text">0/10</div>
        <p id="question"></p>
        <button class="option" id="option1" onclick="selectOption(0)"></button>
        <button class="option" id="option2" onclick="selectOption(1)"></button>
    </div>
    <div id="result">
        <h2 id="result-title"></h2>
        <p id="result-description"></p>
        <button id="restart" onclick="restartTest()">å†è¯•ä¸€æ¬¡</button>
    </div>

    <script>
        const questions = [
            {
                question: "å½“ä½ å‚åŠ ç¤¾äº¤æ´»åŠ¨æ—¶ï¼Œä½ é€šå¸¸æ˜¯ï¼Ÿ",
                options: ["ä¸»åŠ¨ä¸äººäº¤æµï¼Œç»“è¯†æ–°æœ‹å‹", "æ›´æ„¿æ„å’Œç†Ÿæ‚‰çš„äººå¾…åœ¨ä¸€èµ·"],
                answer: null
            },
            {
                question: "åœ¨åšå†³ç­–æ—¶ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ",
                options: ["ä¾é è‡ªå·±çš„æ€è€ƒå’Œåˆ¤æ–­", "å¾æ±‚ä»–äººçš„æ„è§å’Œå»ºè®®"],
                answer: null
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§ç±»å‹çš„ç”µå½±ï¼Ÿ",
                options: ["åŠ¨ä½œã€å†’é™©ç±»", "æƒ…æ„Ÿã€å‰§æƒ…ç±»"],
                answer: null
            },
            {
                question: "å½“ä½ é¢å¯¹å‹åŠ›æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                options: ["ç§¯æå¯»æ‰¾è§£å†³åŠæ³•", "éœ€è¦ä¸€äº›æ—¶é—´ç‹¬å¤„æ¥è°ƒæ•´"],
                answer: null
            },
            {
                question: "ä½ åœ¨å­¦ä¹ æ–°äº‹ç‰©æ—¶ï¼Œæ›´å€¾å‘äºï¼Ÿ",
                options: ["å®è·µä¸­å­¦ä¹ ", "å…ˆç†è®ºå­¦ä¹ å†å®è·µ"],
                answer: null
            },
            {
                question: "ä½ æ›´å–œæ¬¢å’Œä»€ä¹ˆæ ·çš„äººä¸€èµ·å·¥ä½œï¼Ÿ",
                options: ["å……æ»¡æ´»åŠ›ã€æœ‰åˆ›æ„çš„äºº", "ç¨³é‡ã€å¯é çš„äºº"],
                answer: null
            },
            {
                question: "ä½ æ›´æ³¨é‡ç”Ÿæ´»ä¸­çš„ï¼Ÿ",
                options: ["æ–°é²œåˆºæ¿€çš„ä½“éªŒ", "ç¨³å®šå’Œå®‰å…¨æ„Ÿ"],
                answer: null
            },
            {
                question: "åœ¨å›¢é˜Ÿä¸­ï¼Œä½ é€šå¸¸æ‰®æ¼”çš„è§’è‰²æ˜¯ï¼Ÿ",
                options: ["é¢†å¯¼è€…", "æ”¯æŒè€…"],
                answer: null
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§ä¼‘é—²æ–¹å¼ï¼Ÿ",
                options: ["æˆ·å¤–è¿åŠ¨", "åœ¨å®¶çœ‹ä¹¦æˆ–çœ‹ç”µè§†"],
                answer: null
            },
            {
                question: "å½“ä½ æœ‰ä¸€ä¸ªæƒ³æ³•æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                options: ["é©¬ä¸Šè¡ŒåŠ¨", "å…ˆè®¡åˆ’å¥½å†è¡ŒåŠ¨"],
                answer: null
            }
        ];

        let currentQuestionIndex = 0;

        function showQuestion() {
            const questionElement = document.getElementById('question');
            const option1Element = document.getElementById('option1');
            const option2Element = document.getElementById('option2');
            const progressTextElement = document.getElementById('progress-text');
            const progressElement = document.getElementById('progress');

            const currentQuestion = questions[currentQuestionIndex];
            questionElement.textContent = currentQuestion.question;
            option1Element.textContent = currentQuestion.options[0];
            option2Element.textContent = currentQuestion.options[1];

            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressElement.style.width = `${progress}%`;
            progressTextElement.textContent = `${currentQuestionIndex + 1}/${questions.length}`;
        }

        function selectOption(optionIndex) {
            questions[currentQuestionIndex].answer = optionIndex;
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                document.getElementById('progress-text').style.display = 'none';
                calculateResult();
            }
        }

        function calculateResult() {
            let eCount = 0;
            let nCount = 0;
            let tCount = 0;
            let jCount = 0;

            // è®¡åˆ†é€»è¾‘ç¤ºä¾‹ï¼Œå¯æŒ‰éœ€è°ƒæ•´
            for (let i = 0; i < questions.length; i++) {
                if (i === 0 && questions[i].answer === 0) eCount++;
                if (i === 1 && questions[i].answer === 0) nCount++;
                if (i === 2 && questions[i].answer === 0) tCount++;
                if (i === 3 && questions[i].answer === 0) jCount++;
            }

            const e = eCount > 0? 'E' : 'I';
            const n = nCount > 0? 'N' : 'S';
            const t = tCount > 0? 'T' : 'F';
            const j = jCount > 0? 'J' : 'P';

            const resultType = e + n + t + j;
            let resultDescription = '';

            switch (resultType) {
                case 'ENTJ':
                    resultDescription = 'ä½ æ˜¯å¤©ç”Ÿçš„é¢†å¯¼è€…ğŸ‘ï¼Œæ‹¥æœ‰å“è¶Šçš„ç»„ç»‡å’Œå†³ç­–èƒ½åŠ›ï¼Œå¸¦é¢†å›¢é˜Ÿå†²é”‹é™·é˜µï¼';
                    break;
                case 'ENFP':
                    resultDescription = 'ä½ å°±åƒå°å¤ªé˜³ğŸ˜œï¼Œçƒ­æƒ…åˆæœ‰åˆ›æ„ï¼Œèµ°åˆ°å“ªéƒ½èƒ½å¸¦æ¥æ¬¢ä¹ï¼';
                    break;
                case 'INFP':
                    resultDescription = 'ä½ å†…å¿ƒæŸ”è½¯åˆæµªæ¼«ğŸ¤—ï¼Œå……æ»¡åŒæƒ…å¿ƒå’Œæƒ³è±¡åŠ›ï¼Œæ˜¯ç”Ÿæ´»ä¸­çš„è¯—äººï¼';
                    break;
                case 'ISTJ':
                    resultDescription = 'ä½ ç¨³é‡å¯é ğŸ‘Œï¼Œæ³¨é‡ç»†èŠ‚å’Œç§©åºï¼Œæ˜¯å›¢é˜Ÿé‡Œçš„å®šæµ·ç¥é’ˆï¼';
                    break;
                default:
                    resultDescription = `ä½ çš„ MBTI ç±»å‹æ˜¯ ${resultType}âœ¨ï¼Œç‹¬ç‰¹åˆæœ‰é­…åŠ›ï¼`;
            }

            showResult(resultType, resultDescription);
        }

        function showResult(resultType, resultDescription) {
            const questionCard = document.getElementById('question-card');
            const resultElement = document.getElementById('result');
            const resultTitle = document.getElementById('result-title');
            const resultDescriptionElement = document.getElementById('result-description');

            questionCard.style.display = 'none';
            resultElement.style.display = 'block';
            resultTitle.textContent = resultType;
            resultDescriptionElement.textContent = resultDescription;

            createFireworks();
        }

        function createFireworks() {
            const numFireworks = 50;
            for (let i = 0; i < numFireworks; i++) {
                const firework = document.createElement('div');
                firework.classList.add('firework');
                firework.style.left = `${Math.random() * window.innerWidth}px`;
                firework.style.top = `${Math.random() * window.innerHeight}px`;
                const colors = ['#ff69b4', '#ffff00', '#00bfff'];
                firework.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                document.body.appendChild(firework);
            }
        }

        function restartTest() {
            currentQuestionIndex = 0;
            for (let i = 0; i < questions.length; i++) {
                questions[i].answer = null;
            }
            const questionCard = document.getElementById('question-card');
            const resultElement = document.getElementById('result');
            const fireworks = document.querySelectorAll('.firework');
            document.getElementById('progress-text').style.display = 'block';

            fireworks.forEach(firework => firework.remove());
            questionCard.style.display = 'block';
            resultElement.style.display = 'none';
            showQuestion();
        }

        showQuestion();
    </script>
</body>

</html>    